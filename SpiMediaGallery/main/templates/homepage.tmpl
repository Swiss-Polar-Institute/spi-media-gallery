{% extends 'base.tmpl' %}
{% load static %}
{% block title %}SPI Media Gallery{% endblock %}

{% block body_attributes %}class="d-flex flex-column h-100"{% endblock %}

{% block body_contents %}
    <div class="container theme-showcase" role="main">
        {% include "logo.tmpl" %} <H1>Welcome to the SPI Media Gallery</H1>
        <p>
        <ul>
            <li>Total number of photos: {{ total_number_photos }} (resized: {{ total_number_photos_resized }}, {{ percentage_number_photos_resized|floatformat:-2 }}%)<br>
            <li>Size of photos: {{ size_of_photos }} (resized: {{ size_photos_resized }} , {{ percentage_size_photos_resized|floatformat:-2 }}% resized)</li>
        </ul>
        <p>
        <ul>
            <li>Total number of videos indexed: {{ total_number_videos }} (resized: {{ total_number_videos_resized }}, {{ percentage_number_videos_resized|floatformat:-2 }}%)<br>
            <li>Size of videos: {{ size_of_videos }} (resized: {{ size_videos_resized }}, {{ percentage_size_videos_resized|floatformat:-2 }}%)</li>
            <li>Total duration: {{ duration_videos }}</li>
        </ul>
        <h2>Random</h2>
        {% include "random_selection.tmpl" %}
        <p>

        <h2>Videos</h2>
        <a href="{% url 'list_videos' %}">List with all the videos</a>
        <p>
        <h2>Navigate selecting one tag</h2>
        {% for tag in list_of_tags %}
        <a href="{% url 'search' %}?tags={{ tag.id }}">{{ tag.tag }}</a>{% if not forloop.last %}, {% endif %}
        {% endfor %}
        <p>
        <h2>Select multiple tags</h2>
        Only media having all the selected tags will be displayed.

        <form action="{% url 'search' %}" method="get">
            <table border="0">
                <tbody>
                    <tr>
                        <td valign="top">{% for tag in list_of_tags_first_half %}<input type="checkbox" id="{{ tag.id }}" value="{{ tag.id }}" name="tags">
                                <label for="{{ tag.id }}">{{ tag.tag }} ({{ tag.count }})</label><br>
                            {% endfor %}
                        </td>
                        <td valign="top">{% for tag in list_of_tags_second_half %}<input type="checkbox" id="{{ tag.id }}" value="{{ tag.id }}" name="tags">
                                <label for="{{ tag.id }}">{{ tag.tag }} ({{ tag.count }})</label><br>
                            {% endfor %}
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <div>
                <input type="submit" value="Search">
            </div>
        </form>
        <p>
        <h2>Search using ID</h2>
        <form action="{% url 'search' %}" method="POST">
            {% csrf_token %}

            <table>
                {{ form_search_medium_id }}
            </table>
            <input type="submit" value="Search">
        </form>
        <p>
        <!--
        <h2>Search using the map</h2>
        <a href="/map">Map</a>
        <br>
        -->
    </div>
{% endblock %}
